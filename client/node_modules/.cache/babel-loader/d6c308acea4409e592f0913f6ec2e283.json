{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ECommerce\\\\crwn-clothing\\\\src\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport HomePage from './pages/homepage/homepage.components';\nimport ShopPage from './pages/shop/shop.component';\nimport Header from './components/header/header.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport CheckoutPage from './pages/checkout/checkout.components';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { selectCurrentUser } from './redux/user/user.selector';\nimport { checkUserSection } from './redux/user/user.actions';\n\nconst App = ({\n  checkUserSection,\n  currentUser\n}) => {\n  useEffect(() => {\n    checkUserSection();\n  }, [checkUserSection]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => currentUser ? React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }) : React.createElement(SignInAndSignUpPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    component: CheckoutPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n}); //we get the state of the user to know if the user is logged in, if so we dont want them  to be able to access the singin page and also using reselect for optimization\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSection: () => dispatch(checkUserSection())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["C:/Users/user/Desktop/ECommerce/crwn-clothing/src/App.js"],"names":["React","useEffect","HomePage","ShopPage","Header","SignInAndSignUpPage","CheckoutPage","Route","Switch","Redirect","connect","createStructuredSelector","selectCurrentUser","checkUserSection","App","currentUser","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AAEA,OAAOC,QAAP,MAAqB,sCAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,OAAOC,YAAP,MAAyB,sCAAzB;AAGA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,wBAAR,QAAuC,UAAvC;AACA,SAASC,iBAAT,QAAkC,4BAAlC;AACA,SAASC,gBAAT,QAAgC,2BAAhC;;AAIA,MAAMC,GAAG,GAAG,CAAC;AAACD,EAAAA,gBAAD;AAAmBE,EAAAA;AAAnB,CAAD,KAAqC;AAE/Cd,EAAAA,SAAS,CAAC,MAAI;AACZY,IAAAA,gBAAgB;AACjB,GAFQ,EAEP,CAACA,gBAAD,CAFO,CAAT;AAIE,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEX,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAEA,oBAAC,KAAD;AAAQ,IAAA,IAAI,EAAC,OAAb;AAAqB,IAAA,SAAS,EAAEC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,EAGA,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAA4B,IAAA,MAAM,EAAE,MAAMY,WAAW,GACjD,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADiD,GACxB,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHA,EAMA,oBAAC,KAAD;AAAQ,IAAA,KAAK,MAAb;AAAc,IAAA,IAAI,EAAC,WAAnB;AAA+B,IAAA,SAAS,EAAET,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANA,CAFF,CADF;AAaD,CAnBH;;AAqBA,MAAMU,eAAe,GAAGL,wBAAwB,CAAC;AAC/CI,EAAAA,WAAW,EAACH;AADmC,CAAD,CAAhD,C,CAEqB;;AAErB,MAAMK,kBAAkB,GAAGC,QAAQ,KAAI;AACrCL,EAAAA,gBAAgB,EAAG,MAAMK,QAAQ,CAACL,gBAAgB,EAAjB;AADI,CAAJ,CAAnC;;AAIA,eAAeH,OAAO,CAACM,eAAD,EAAkBC,kBAAlB,CAAP,CAA8CH,GAA9C,CAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport './App.css';\n\nimport HomePage from './pages/homepage/homepage.components';\nimport ShopPage from './pages/shop/shop.component';\nimport Header from './components/header/header.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport CheckoutPage from './pages/checkout/checkout.components';\n\n\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {createStructuredSelector} from 'reselect';\nimport { selectCurrentUser } from './redux/user/user.selector';\nimport { checkUserSection} from './redux/user/user.actions'\n\n\n\nconst App = ({checkUserSection, currentUser})=>  { \n  \n  useEffect(()=>{\n    checkUserSection();\n  },[checkUserSection]);\n  \n    return (\n      <div >\n        <Header />\n        <Switch>\n        <Route exact path='/' component={HomePage} />\n        <Route  path='/shop' component={ShopPage} />\n        <Route exact path='/signin' render={() => currentUser ?\n           (<Redirect to ='/' />) : (<SignInAndSignUpPage />)} />  \n        {/* //base on currentUser go to sign up page or go to home page */}\n        <Route  exact path='/checkout' component={CheckoutPage}/>\n        </Switch>\n      </div>\n    );\n  }\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser:selectCurrentUser\n})                   //we get the state of the user to know if the user is logged in, if so we dont want them  to be able to access the singin page and also using reselect for optimization\n\nconst mapDispatchToProps = dispatch =>({\n  checkUserSection : () => dispatch(checkUserSection())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps) (App);\n"]},"metadata":{},"sourceType":"module"}